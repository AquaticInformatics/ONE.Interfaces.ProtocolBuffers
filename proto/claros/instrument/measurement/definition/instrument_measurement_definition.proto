syntax = "proto3";
package claros.instrument.measurement;

import "milliamp_binding.proto";
import "scsensor_binding.proto";
import "limit.proto";
import "record_auditinfo.proto";
import "google/protobuf/wrappers.proto";

option csharp_namespace ="Claros.Instrument.Measurement";
 
// This defines a set of data that is collected from an instrument
message InstrumentMeasurementDefinition {
    // This is nullable.  In the case of Instrument Data this would be null until it reaches Claros.Instrument.Measurement
    string instrumentMeasurementId = 1;                     
    
    // The name of the collection of instrument measurements.  There is a good chance this correlates to the parameter name.
    string name = 2;                                        
    
    // GUID id of tenant
    string tenantId = 16;
    
    // The FusionId of the instrument that the data is being collected
    string fusionId = 3;                                    
    
    // Optional: The location where the data is being collected
    string locationId = 4;                                  
    
    // Instrument source of this specific parameter
    google.protobuf.UInt32Value channel = 15;
    
    // Required: The parameter related to the instrument measurements being collected
    uint32 parameterIntId = 5;                                 
    
    // GUID id of parameter
    string parameterGuidId = 17;
    
    // The default display unit that the data will be rendered
    uint32 displayUnitIntId = 6;                               
    
    // GUID id of display unit
    string displayUnitGuidId = 18;
    
    // Soft delete of the Instrument Measurement Collection
    bool isVisible = 7;  
   
    // How the data is bound from the incoming instrument
    oneof binding {                                             
        // For SC Instruments, how the SC Instrument is identified
        SCSensorBinding scSensorBinding = 8;                    
        
        // For 4-20 mA input, how the inputs are mapped to instrument measurements
        MilliAmpBinding milliAmpBinding = 9;                
    }

    // A collection of limits associated to the instrument measurements
    repeated claros.common.core.Limit limits = 10;      

	// Audit information for the InstrumentMeasurementDefinition
    claros.common.core.RecordAuditInfo recordAuditInfo = 99;
}

message InstrumentMeasurementDefinitions {
    repeated InstrumentMeasurementDefinition items = 1;
}